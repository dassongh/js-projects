{"version":3,"sources":["todos app/todos.js"],"names":["refs","form","document","getElementById","todosUl","querySelector","radioBtns","querySelectorAll","todos","JSON","parse","localStorage","getItem","renderTodo","data","todoEl","createElement","classList","add","innerHTML","addEventListener","remove","updateLS","toggleTodos","prepend","el","toggle","contains","dataset","finished","children","todoRefs","forEach","todo","push","text","innerText","setItem","stringify","getTodos","appendChild","btn","e","childNodes","liRef","target","parentElement","id","style","display","nextElementSibling","previousElementSibling","preventDefault","currentTarget","value","reset"],"mappings":";AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,eAAe,QAC9BC,QAASF,SAASG,cAAc,UAChCC,UAAWJ,SAASK,iBAAiB,eAGjCC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,UAwD9C,SAASC,EAAWC,GACZC,MAAAA,EAASb,SAASc,cAAc,MACtCD,EAAOE,UAAUC,IAAI,QACrBH,EAAOI,sKAGwBL,IAEnBC,EAAOV,cAAc,eAC7Be,iBAAiB,QAAS,KAC5BL,EAAOE,UAAUC,IAAI,YACrBH,EAAOK,iBAAiB,gBAAiB,KACvCL,EAAOM,SACPC,QAIJC,EAAYR,GAEZf,EAAKI,QAAQoB,QAAQT,GAErBO,IAGF,SAASC,EAAYE,GACnBA,EAAGL,iBAAiB,QAAS,KAC3BK,EAAGR,UAAUS,OAAO,WAEhBD,EAAGR,UAAUU,SAAS,WACxBF,EAAGG,QAAQC,SAAW,OAEtBJ,EAAGG,QAAQC,SAAW,QAGxBJ,EAAGK,SAAS,GAAGb,UAAUS,OAAO,aAEhCJ,MAIJ,SAASA,IACDS,MAAAA,EAAW7B,SAASK,iBAAiB,SAErCC,EAAQ,GAEduB,EAASC,QAAQC,IACfzB,EAAM0B,KAAK,CACTC,KAAMF,EAAKG,UACXP,SAAUI,EAAKhB,UAAUU,SAAS,eAItChB,aAAa0B,QAAQ,QAAS5B,KAAK6B,UAAU9B,IAG/C,SAAS+B,EAAS/B,GAChBA,EAAMwB,QAAQ,EAAGG,KAAAA,EAAMN,SAAAA,MACfd,MAAAA,EAASb,SAASc,cAAc,MACtCD,EAAOE,UAAUC,IAAI,QACrBH,EAAOI,uCAAyCU,EAAW,GAAK,0IAGjCM,KAEd,IAAbN,GAAmBd,EAAOE,UAAUC,IAAI,WAEhCH,EAAOV,cAAc,eAC7Be,iBAAiB,QAAS,KAC5BL,EAAOE,UAAUC,IAAI,YACrBH,EAAOK,iBAAiB,gBAAiB,KACvCL,EAAOM,SACPC,QAIJC,EAAYR,GAEZf,EAAKI,QAAQoC,YAAYzB,GAEzBO,MAtIAd,GAAO+B,EAAS/B,GAEpBR,EAAKM,UAAU0B,QAAQS,IACrBA,EAAIrB,iBAAiB,QAASsB,IACtBlC,MAAAA,EAAQR,EAAKI,QAAQuC,WACrBC,EAAQF,EAAEG,OAAOC,cAEvBtC,EAAMwB,QAAQC,IACJS,OAAAA,EAAEG,OAAOE,IACV,IAAA,MACHd,EAAKe,MAAMC,QAAU,YAErBL,EAAM3B,UAAUC,IAAI,iBACpB0B,EAAMM,mBAAmBjC,UAAUI,OAAO,iBAC1CuB,EAAMM,mBAAmBA,mBAAmBjC,UAAUI,OAAO,iBAC7D,MACG,IAAA,WACCY,EAAKhB,UAAUU,SAAS,WAC1BM,EAAKe,MAAMC,QAAU,YAErBhB,EAAKe,MAAMC,QAAU,OAGvBL,EAAMO,uBAAuBlC,UAAUI,OAAO,iBAC9CuB,EAAM3B,UAAUC,IAAI,iBACpB0B,EAAMM,mBAAmBjC,UAAUI,OAAO,iBAC1C,MACG,IAAA,aACEY,EAAKhB,UAAUU,SAAS,WAG3BM,EAAKe,MAAMC,QAAU,OAFrBhB,EAAKe,MAAMC,QAAU,YAKvBL,EAAMO,uBAAuBA,uBAAuBlC,UAAUI,OAAO,iBACrEuB,EAAMO,uBAAuBlC,UAAUI,OAAO,iBAC9CuB,EAAM3B,UAAUC,IAAI,wBAO9BlB,EAAKC,KAAKmB,iBAAiB,SAAUsB,IACnCA,EAAEU,iBAEEnB,IAAAA,EAAOS,EAAEW,cAAc,GAAGC,MAEzBrB,IAELpB,EAAWoB,GAEXS,EAAEW,cAAcE","file":"todos.9de07174.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  form: document.getElementById('form'),\n  todosUl: document.querySelector('.todos'),\n  radioBtns: document.querySelectorAll('.radio-btn'),\n};\n\nconst todos = JSON.parse(localStorage.getItem('todos'));\nif (todos) getTodos(todos);\n\nrefs.radioBtns.forEach(btn => {\n  btn.addEventListener('click', e => {\n    const todos = refs.todosUl.childNodes;\n    const liRef = e.target.parentElement;\n\n    todos.forEach(todo => {\n      switch (e.target.id) {\n        case 'all':\n          todo.style.display = 'list-item';\n\n          liRef.classList.add('radio-checked');\n          liRef.nextElementSibling.classList.remove('radio-checked');\n          liRef.nextElementSibling.nextElementSibling.classList.remove('radio-checked');\n          break;\n        case 'finished':\n          if (todo.classList.contains('checked')) {\n            todo.style.display = 'list-item';\n          } else {\n            todo.style.display = 'none';\n          }\n\n          liRef.previousElementSibling.classList.remove('radio-checked');\n          liRef.classList.add('radio-checked');\n          liRef.nextElementSibling.classList.remove('radio-checked');\n          break;\n        case 'unfinished':\n          if (!todo.classList.contains('checked')) {\n            todo.style.display = 'list-item';\n          } else {\n            todo.style.display = 'none';\n          }\n\n          liRef.previousElementSibling.previousElementSibling.classList.remove('radio-checked');\n          liRef.previousElementSibling.classList.remove('radio-checked');\n          liRef.classList.add('radio-checked');\n          break;\n      }\n    });\n  });\n});\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  let todo = e.currentTarget[0].value;\n  \n  if (!todo) return;\n\n  renderTodo(todo);\n\n  e.currentTarget.reset()\n})\n\nfunction renderTodo(data) {\n  const todoEl = document.createElement('li');\n  todoEl.classList.add('todo');\n  todoEl.innerHTML = `<button class=\"btn-delete is-hidden\">\n                      <i class=\"far fa-minus-square\">\n                      </i>\n                      </button>${data}`;\n  \n  const btn = todoEl.querySelector('.btn-delete');\n  btn.addEventListener('click', () => {\n    todoEl.classList.add('todo-out');\n    todoEl.addEventListener('transitionend', () => {\n      todoEl.remove();\n      updateLS();\n    });\n  });\n\n  toggleTodos(todoEl);\n\n  refs.todosUl.prepend(todoEl);\n\n  updateLS();\n}\n\nfunction toggleTodos(el) {\n  el.addEventListener('click', () => {\n    el.classList.toggle('checked');\n\n    if (el.classList.contains('checked')) {\n      el.dataset.finished = 'true';\n    } else {\n      el.dataset.finished = 'false';\n    }\n\n    el.children[0].classList.toggle('is-hidden');\n\n    updateLS();\n  });\n}\n\nfunction updateLS() {\n  const todoRefs = document.querySelectorAll('.todo');\n\n  const todos = [];\n\n  todoRefs.forEach(todo => {\n    todos.push({\n      text: todo.innerText,\n      finished: todo.classList.contains('checked'),\n    });\n  });\n\n  localStorage.setItem('todos', JSON.stringify(todos));\n}\n\nfunction getTodos(todos) {\n  todos.forEach(({ text, finished }) => {\n    const todoEl = document.createElement('li');\n    todoEl.classList.add('todo');\n    todoEl.innerHTML = `<button class=\"btn-delete ${finished ? '' : 'is-hidden'}\">\n                        <i class=\"far fa-minus-square\">\n                        </i>\n                        </button>${text}`;\n    \n    if (finished === true) todoEl.classList.add('checked');\n    \n    const btn = todoEl.querySelector('.btn-delete');\n    btn.addEventListener('click', () => {\n      todoEl.classList.add('todo-out');\n      todoEl.addEventListener('transitionend', () => {\n        todoEl.remove();\n        updateLS();\n      });\n    });\n\n    toggleTodos(todoEl);\n\n    refs.todosUl.appendChild(todoEl);\n\n    updateLS();\n  });\n}\n"]}