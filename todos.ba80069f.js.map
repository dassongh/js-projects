{"version":3,"sources":["todos app/todos.js"],"names":["refs","form","document","getElementById","todosUl","querySelector","radioBtns","querySelectorAll","todos","JSON","parse","localStorage","getItem","renderTodo","data","todoEl","createElement","classList","add","innerHTML","addEventListener","remove","updateLS","toggleTodos","prepend","el","toggle","children","todoRefs","forEach","todo","push","text","innerText","finished","contains","setItem","stringify","getTodos","appendChild","btn","e","childNodes","liRef","target","parentElement","id","style","display","nextElementSibling","previousElementSibling","preventDefault","currentTarget","value","reset"],"mappings":";AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,eAAe,QAC9BC,QAASF,SAASG,cAAc,UAChCC,UAAWJ,SAASK,iBAAiB,eAGjCC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,UAwD9C,SAASC,EAAWC,GACZC,MAAAA,EAASb,SAASc,cAAc,MACtCD,EAAOE,UAAUC,IAAI,QACrBH,EAAOI,sKAGwBL,IAEnBC,EAAOV,cAAc,eAC7Be,iBAAiB,QAAS,KAC5BL,EAAOE,UAAUC,IAAI,YACrBH,EAAOK,iBAAiB,gBAAiB,KACvCL,EAAOM,SACPC,QAIJC,EAAYR,GAEZf,EAAKI,QAAQoB,QAAQT,GAErBO,IAGF,SAASC,EAAYE,GACnBA,EAAGL,iBAAiB,QAAS,KAC3BK,EAAGR,UAAUS,OAAO,WACpBD,EAAGE,SAAS,GAAGV,UAAUS,OAAO,aAEhCJ,MAIJ,SAASA,IACDM,MAAAA,EAAW1B,SAASK,iBAAiB,SAErCC,EAAQ,GAEdoB,EAASC,QAAQC,IACftB,EAAMuB,KAAK,CACTC,KAAMF,EAAKG,UACXC,SAAUJ,EAAKb,UAAUkB,SAAS,eAItCxB,aAAayB,QAAQ,QAAS3B,KAAK4B,UAAU7B,IAG/C,SAAS8B,EAAS9B,GAChBA,EAAMqB,QAAQ,EAAGG,KAAAA,EAAME,SAAAA,MACfnB,MAAAA,EAASb,SAASc,cAAc,MACtCD,EAAOE,UAAUC,IAAI,QACrBH,EAAOI,uCAAyCe,EAAW,GAAK,0IAGjCF,IAE3BE,GAAUnB,EAAOE,UAAUC,IAAI,WAEvBH,EAAOV,cAAc,eAC7Be,iBAAiB,QAAS,KAC5BL,EAAOE,UAAUC,IAAI,YACrBH,EAAOK,iBAAiB,gBAAiB,KACvCL,EAAOM,SACPC,QAIJC,EAAYR,GAEZf,EAAKI,QAAQmC,YAAYxB,GAEzBO,MA/HAd,GAAO8B,EAAS9B,GAEpBR,EAAKM,UAAUuB,QAAQW,IACrBA,EAAIpB,iBAAiB,QAASqB,IACtBjC,MAAAA,EAAQR,EAAKI,QAAQsC,WACrBC,EAAQF,EAAEG,OAAOC,cAEvBrC,EAAMqB,QAAQC,IACJW,OAAAA,EAAEG,OAAOE,IACV,IAAA,MACHhB,EAAKiB,MAAMC,QAAU,YAErBL,EAAM1B,UAAUC,IAAI,iBACpByB,EAAMM,mBAAmBhC,UAAUI,OAAO,iBAC1CsB,EAAMM,mBAAmBA,mBAAmBhC,UAAUI,OAAO,iBAC7D,MACG,IAAA,WACCS,EAAKb,UAAUkB,SAAS,WAC1BL,EAAKiB,MAAMC,QAAU,YAErBlB,EAAKiB,MAAMC,QAAU,OAGvBL,EAAMO,uBAAuBjC,UAAUI,OAAO,iBAC9CsB,EAAM1B,UAAUC,IAAI,iBACpByB,EAAMM,mBAAmBhC,UAAUI,OAAO,iBAC1C,MACG,IAAA,aACES,EAAKb,UAAUkB,SAAS,WAG3BL,EAAKiB,MAAMC,QAAU,OAFrBlB,EAAKiB,MAAMC,QAAU,YAKvBL,EAAMO,uBAAuBA,uBAAuBjC,UAAUI,OAAO,iBACrEsB,EAAMO,uBAAuBjC,UAAUI,OAAO,iBAC9CsB,EAAM1B,UAAUC,IAAI,wBAO9BlB,EAAKC,KAAKmB,iBAAiB,SAAUqB,IACnCA,EAAEU,iBAEErB,IAAAA,EAAOW,EAAEW,cAAc,GAAGC,MAEzBvB,IAELjB,EAAWiB,GAEXW,EAAEW,cAAcE","file":"todos.ba80069f.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  form: document.getElementById('form'),\n  todosUl: document.querySelector('.todos'),\n  radioBtns: document.querySelectorAll('.radio-btn'),\n};\n\nconst todos = JSON.parse(localStorage.getItem('todos'));\nif (todos) getTodos(todos);\n\nrefs.radioBtns.forEach(btn => {\n  btn.addEventListener('click', e => {\n    const todos = refs.todosUl.childNodes;\n    const liRef = e.target.parentElement;\n\n    todos.forEach(todo => {\n      switch (e.target.id) {\n        case 'all':\n          todo.style.display = 'list-item';\n\n          liRef.classList.add('radio-checked');\n          liRef.nextElementSibling.classList.remove('radio-checked');\n          liRef.nextElementSibling.nextElementSibling.classList.remove('radio-checked');\n          break;\n        case 'finished':\n          if (todo.classList.contains('checked')) {\n            todo.style.display = 'list-item';\n          } else {\n            todo.style.display = 'none';\n          }\n\n          liRef.previousElementSibling.classList.remove('radio-checked');\n          liRef.classList.add('radio-checked');\n          liRef.nextElementSibling.classList.remove('radio-checked');\n          break;\n        case 'unfinished':\n          if (!todo.classList.contains('checked')) {\n            todo.style.display = 'list-item';\n          } else {\n            todo.style.display = 'none';\n          }\n\n          liRef.previousElementSibling.previousElementSibling.classList.remove('radio-checked');\n          liRef.previousElementSibling.classList.remove('radio-checked');\n          liRef.classList.add('radio-checked');\n          break;\n      }\n    });\n  });\n});\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  let todo = e.currentTarget[0].value;\n\n  if (!todo) return;\n\n  renderTodo(todo);\n\n  e.currentTarget.reset();\n});\n\nfunction renderTodo(data) {\n  const todoEl = document.createElement('li');\n  todoEl.classList.add('todo');\n  todoEl.innerHTML = `<button class=\"btn-delete is-hidden\">\n                      <i class=\"far fa-minus-square\">\n                      </i>\n                      </button>${data}`;\n\n  const btn = todoEl.querySelector('.btn-delete');\n  btn.addEventListener('click', () => {\n    todoEl.classList.add('todo-out');\n    todoEl.addEventListener('transitionend', () => {\n      todoEl.remove();\n      updateLS();\n    });\n  });\n\n  toggleTodos(todoEl);\n\n  refs.todosUl.prepend(todoEl);\n\n  updateLS();\n}\n\nfunction toggleTodos(el) {\n  el.addEventListener('click', () => {\n    el.classList.toggle('checked');\n    el.children[0].classList.toggle('is-hidden');\n\n    updateLS();\n  });\n}\n\nfunction updateLS() {\n  const todoRefs = document.querySelectorAll('.todo');\n\n  const todos = [];\n\n  todoRefs.forEach(todo => {\n    todos.push({\n      text: todo.innerText,\n      finished: todo.classList.contains('checked'),\n    });\n  });\n\n  localStorage.setItem('todos', JSON.stringify(todos));\n}\n\nfunction getTodos(todos) {\n  todos.forEach(({ text, finished }) => {\n    const todoEl = document.createElement('li');\n    todoEl.classList.add('todo');\n    todoEl.innerHTML = `<button class=\"btn-delete ${finished ? '' : 'is-hidden'}\">\n                        <i class=\"far fa-minus-square\">\n                        </i>\n                        </button>${text}`;\n\n    if (finished) todoEl.classList.add('checked');\n\n    const btn = todoEl.querySelector('.btn-delete');\n    btn.addEventListener('click', () => {\n      todoEl.classList.add('todo-out');\n      todoEl.addEventListener('transitionend', () => {\n        todoEl.remove();\n        updateLS();\n      });\n    });\n\n    toggleTodos(todoEl);\n\n    refs.todosUl.appendChild(todoEl);\n\n    updateLS();\n  });\n}\n"]}